# Godot Story: Onboarding & Tutorials

**Epic:** Atmosphere, UX Polish & Live Ops Hooks  
**Story ID:** 4.2  
**Priority:** Medium  
**Points:** 8  
**Status:** Approved  
**Language:** GDScript  
**Performance Target:** 60+ FPS

## Description
Deliver contextual tutorials for the first run with skip/next controls, persistent completion state, and codex “Learn More” unlocks. References: docs/game-prd.md:361-378 and docs/architecture.md:150-260, 340-380.

**Godot Implementation:** `TutorialService` autoload orchestrating prompt overlays, highlight masks, and telemetry logging in typed GDScript  
**Performance Impact:** Low; overlays should reuse pooled nodes (<0.5ms update)

## Acceptance Criteria
- [ ] Tutorial steps trigger (dice loop, rooms, threats) during first run
- [ ] Prompts support skip/next and completion persists per profile
- [ ] Codex “Learn More” entries unlock when related tutorial completes
- [ ] Analytics events fire for tutorial start/completion/skip/drop-off

## Technical Specifications
- Scenes: `tutorial_prompt.tscn`, `tutorial_highlight_mask.tscn`
- Scripts: `tutorial_service.gd`, `tutorial_prompt_controller.gd`, `tutorial_highlight_controller.gd`, `tutorial_state_repository.gd`
- Resources: `tutorial_flow.tres`, codex entries
- Modified: `game_director.gd`, `run_hud_controller.gd`, telemetry logger

## TDD Workflow
- RED: tests for TutorialService & PromptController
- GREEN: implement flow, overlays, telemetry hooks
- REFACTOR: typed data, pooling, persistence

## Definition of Done
- Acceptance criteria met; tests passing; analytics dashboards updated; documentation refreshed
