# Godot Story: Threat Wave Telegraph & Board Signals

**Epic:** Atmosphere, UX Polish & Live Ops Hooks  
**Story ID:** 4.7  
**Priority:** Medium  
**Points:** 5  
**Status:** Draft  
**Language:** GDScript  
**Performance Target:** 60+ FPS

## Description
Implement Luckitown-inspired wave telegraphing: a compact top-layer timeline that previews upcoming enemy waves, highlights current threat lanes, and syncs with resource pressure cues. Replace the static banner callouts with board-level signals so players can plan in advance without leaving the board view. References: docs/front-end-spec.md:101-140 (Context Pane + threat lists), docs/game-prd.md:51-109, scenes/ui/run_hud.tscn:70-210.

**Godot Implementation:** Add wave timeline CanvasLayer, integrate with `threat_service` updates, animate on-coming events on the board  
**Performance Impact:** Low; timeline updates occur on turn boundaries with tween reuse

## Acceptance Criteria
- [ ] Wave timeline shows next 3 turns of enemy spawns with iconography for type, lane, and special effects
- [ ] Selecting a timeline entry highlights predicted spawn tiles on the board without opening a separate pane
- [ ] Active threat lane pulses on the board until resolved; pulse respects accessibility contrast settings
- [ ] Banner alerts replaced with timeline notifications or on-board markers, keeping board unobstructed
- [ ] Timeline and pulses honour reduced-motion and colorblind themes defined in accessibility settings

## Technical Specifications
- Scenes: `run_hud.tscn`, new `wave_timeline.tscn`, `threat_lane_indicator.tscn`
- Scripts: `run_hud_controller.gd`, `wave_timeline_controller.gd`, `threat_service.gd`, `threat_meter_controller.gd`
- Resources: icon set for threat types, timeline theme assets
- Modified: `run_hud_controller.gd`, `threat_meter_controller.gd`, `base_theme.tres`
- Data Dependencies: `threat_service` must expose future wave data (lane, type, ETA); define fallback UI if preview unavailable
- Coordination: accessibility team for contrast validation; audio team for synchronized cues

## Definition of Done
- Timeline usability confirmed in UX review, timeline + board indicators exercised in test harness, threat banner retired with no regressions in tutorial messaging
