# Godot Story: Board-Centric Run HUD Layout

**Epic:** Atmosphere, UX Polish & Live Ops Hooks  
**Story ID:** 4.5  
**Priority:** High  
**Points:** 8  
**Status:** Draft  
**Language:** GDScript  
**Performance Target:** 60+ FPS

## Description
Rebuild the run HUD so the encounter board is the visual and interaction focus, mirroring the compact Luckitown-style layout. Replace the always-on left/right panes with lightweight overlays and contextual popups so players stay anchored to the board while still accessing room, threat, and action data. References: docs/game-prd.md:63 (FR9 drag-and-drop dice locking), docs/front-end-spec.md:218-289, scenes/ui/run_hud.tscn:65-210.

**Godot Implementation:** Refactor `run_hud.tscn` / `run_hud_controller.gd` to use board-first CanvasLayers, popups, and context chips  
**Performance Impact:** Low; ensure overlays reuse pooled controls and avoid full scene reloads

## Acceptance Criteria
- [ ] Room and threat lists collapse into summonable overlays that do not reduce the board viewport footprint
- [ ] Context actions (enter/cycle/scout) surface as radial or near-board popups tied to the selected tile, not a persistent sidebar
- [ ] Dice viewport and lock rail float above the board without occluding core tiles on landscape 16:9 and 18:9 resolutions
- [ ] HUD passes thumb-reach review: all primary turn actions reachable within 40% bottom band on mobile landscape mock
- [ ] Overlay stacking rules defined: timeline + room/threat panels never overlap and controller focus loops remain intact
- [ ] Reduced-motion and large-text accessibility modes confirmed across overlays and quick action chips

## Technical Specifications
- Scenes: `run_hud.tscn`, new `room_overlay_panel.tscn`, `threat_overlay_panel.tscn`, `context_action_popup.tscn`
- Scripts: `run_hud_controller.gd`, `room_overlay_controller.gd`, `threat_overlay_controller.gd`, `context_action_popup.gd`
- Resources: updated board CanvasLayer theme assets
- Modified: `base_theme.tres`, `run_hud_controller.gd`, `run_hud.tscn`
- Design Deliverables: high-fidelity overlay mockups + interaction map (Figma) prior to implementation
- Dependencies: coordinate with Accessibility story 4.3 for theme scaling changes; input team for controller mapping updates

## Definition of Done
- Acceptance criteria met, new overlays QAâ€™d against Luckitown reference mocks, UX sign-off recorded in story QA notes, regression checks on dice locking and context actions
